(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,a){},21:function(t){t.exports=[{key:"A0001",name:"Red Hot Chili Peppers",photo:"https://lastfm-img2.akamaized.net/i/u/300x300/ff9c5cb557a7489f8ef032b993638d18.png"},{key:"A0002",name:"Aerosmith",photo:"https://lastfm-img2.akamaized.net/i/u/300x300/3dab7b013c3346af8a49b08b4688ff8a.png"},{key:"A0003",name:"Bon Jovi",photo:"https://lastfm-img2.akamaized.net/i/u/300x300/68cffd33dc71e0885d27d3fe917fb70c.png"},{key:"A0004",name:"Ed Sheeran",photo:"https://lastfm-img2.akamaized.net/i/u/300x300/fa36962445080a3357cd1585fd2cb474.png"},{key:"A0005",name:"Bruno Mars",photo:"https://lastfm-img2.akamaized.net/i/u/300x300/9e51e895e31073fe89130721da1f5ac9.png"},{key:"A0006",name:"Nirvana",photo:"https://lastfm-img2.akamaized.net/i/u/300x300/6ff086c6ec0a8d50882bd4aac46cd3d2.png"}]},22:function(t,e,a){t.exports=a(70)},27:function(t,e,a){},70:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(17),s=a.n(o),r=(a(27),a(7)),c=a(8),u=a(10),l=a(9),p=a(11),m=(a(14),a(13)),h=a(3),f=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(l.a)(e).call(this))).myRefUp=i.a.createRef(),t.myRefDown=i.a.createRef(),t.state={countLikes:""},t}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.likes;this.setState({countLikes:t})}},{key:"countLikes",value:function(t){var e=this.props.name,a=parseInt(this.state.countLikes);this.setState({countLikes:a+1}),this.props.updateInfo(e,a)}},{key:"countDislikes",value:function(t){var e=this.props.name,a=parseInt(this.state.countLikes);a>=0?this.setState({countLikes:a-1}):this.setState({countLikes:0}),this.props.updateInfo(e,a)}},{key:"render",value:function(){var t=this.props.name;return i.a.createElement(h.Col,{s:12,className:"artist",key:t},i.a.createElement(h.Col,{s:5},t),i.a.createElement(h.Col,{s:2},i.a.createElement("span",{onClick:this.countLikes.bind(this)},i.a.createElement(h.Icon,{className:"icon-up"},"thumb_up_alt"))),i.a.createElement(h.Col,{s:2},i.a.createElement("span",{onClick:this.countDislikes.bind(this)},i.a.createElement(h.Icon,{className:"icon-down"},"thumb_down_alt"))),i.a.createElement(h.Col,{s:3},this.state.countLikes))}}]),e}(n.Component),d=function(t){function e(){var t;return Object(r.a)(this,e),(t=Object(u.a)(this,Object(l.a)(e).call(this))).sortData=function(t,e){return t.sort(function(t,a){return"DESC"===e?a.playcount-t.playcount:t.playcount-a.playcount})},t.paintArtist=function(e){return i.a.createElement("div",null,e.map(function(e){var a=parseInt(e.playcount);return i.a.createElement(f,{name:e.name,likes:a,updateInfo:t.updateInfo.bind(Object(m.a)(Object(m.a)(t)))})}))},t.state={artistData:[],orderDir:"DESC"},t}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.artistData;this.setState({artistData:t})}},{key:"updateInfo",value:function(t,e){var a=this.state.artistData;a.map(function(e){if(e.name===t){var n=a.indexOf(e);delete a[n]}return e});var n=this.state.artistData;n.push({name:t,playcount:e}),this.setState({artistData:n})}},{key:"orderDir",value:function(){"ASC"===this.state.orderDir?this.setState({orderDir:"DESC"}):this.setState({orderDir:"ASC"})}},{key:"render",value:function(){var t=this.props,e=t.photo,a=t.name,n=this.sortData(this.state.artistData,this.state.orderDir);return i.a.createElement(h.Col,{s:4,className:"container"},i.a.createElement(h.Card,{header:i.a.createElement(h.CardTitle,{reveal:!0,image:e,waves:"light"}),title:a,reveal:this.paintArtist(n)}))}}]),e}(n.Component),k=a(21),b=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).state={data:[]},a}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.state.data;k.forEach(function(a){fetch("https://ws.audioscrobbler.com/2.0/?method=artist.gettoptracks&artist=".concat(a.name,"&api_key=657cef2918119afec7337a5c8080f934&format=json")).then(function(t){return t.json()}).then(function(n){Object.values(n).forEach(function(n){e.push({key:a.key,name:a.name,photo:a.photo,artistData:n.track}),t.setState({data:e})})})})}},{key:"render",value:function(){return i.a.createElement(h.Row,{className:"App"},i.a.createElement("h1",null,"Ranking songs"),this.state.data.map(function(t){return i.a.createElement(d,{name:t.name,photo:t.photo,key:t.key,artistData:t.artistData})}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[22,2,1]]]);
//# sourceMappingURL=main.b1f61250.chunk.js.map